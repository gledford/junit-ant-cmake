cmake_minimum_required (VERSION 3.10)

enable_testing()

add_subdirectory(TestJUnit)
add_subdirectory(TestJUnitv2)

add_custom_target(junit-metrics-test-counts
	COMMAND
		/Users/gledford/eclipse-workspace/TestJUnit/scripts/junit_report_collector.py -dir ../
	VERBATIM
)

add_custom_target(junit-metrics-coverage
	COMMAND
		/Users/gledford/eclipse-workspace/TestJUnit/scripts/jacoco_coverge_reader.py -dir .
	VERBATIM
    DEPENDS
	    junit-metrics-test-counts
)

add_custom_target(junit-metrics
    DEPENDS
	    junit-metrics-test-counts
	    junit-metrics-coverage
)